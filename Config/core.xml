<?xml version="1.0" encoding="utf-8"?>
<objects xmlns="http://www.springframework.net" xmlns:db="http://www.springframework.net/database">  
  <object id="AbstractService" type="IEW.Platform.Kernel.Common.AbstractService,IEW.Platform.Kernel" abstract="true">
    <property name="LogName" value="Service" /> 
    <property name="QueueManager" ref="QueueManager" /> 
  </object>


  <object id="QueueManager" type="IEW.Platform.Kernel.Queue.QueueManager,IEW.Platform.Kernel" init-method="Init" /> 
  <object id="MessageManager" type="IEW.Platform.Kernel.Message.MessageManager,IEW.Platform.Kernel" init-method="Init">
    <property name="ConfigFileName" value="../../Config/Message.xml" />
  </object>

  <object id="MDIForm" type="IEW.Platform.Kernel.UI.MDIForm,IEW.Platform.Kernel" init-method="Init">
     <property name="CommandButtonList">
      <dictionary>
         <entry key="1" value="FrmLogView" /> 
         <entry key="2" value="FrmGateway" /> 
      </dictionary>
     </property>
  </object>

  <object id="FrmLogView" type="IEW.Platform.Kernel.UI.FrmLogView,IEW.Platform.Kernel" init-method="Init">
    <property name="LogStartFlag">
        <value>true</value> 
    </property>
  </object>

  <object id="FrmGateway" type="IEW.GatewayService.UI.Gateway,IEW.GatewayService" init-method="Init">
    <property name="ObjectManager" ref="ObjectManager" />
  </object>

  <object id="MQTTManager" type="IEW.Platform.Kernel.MQTT.MQTTManager,IEW.Platform.Kernel" init-method="Init">
    <property name="Name" value="MQTTManager" /> 
    <property name="MessageManager" ref="MessageManager"/>
    <property name="QueueManager" ref="QueueManager"/>
    <property name="ConnectionString" value="tcp://127.0.0.1:1883"/>
    <property name="ClientId" value="{ComputerName}_{ServerName}"/>
    <property name="Receive_Topic">
      <dictionary>
        <entry key="Collect_Ack" value="/IEW/+/+/Cmd/Ack" /> 
        <entry key="Test_Ack" value="/IEW/AA/BB/Cmd/#" />
      </dictionary>
    </property>
    <property name="Publish_Topic">
      <dictionary>
        <entry key="Collect_Cmd" value="/IEW/{LineID}/{DeviceID}/Cmd/Collect" /> 
      </dictionary>
    </property>

  </object>


</objects>
